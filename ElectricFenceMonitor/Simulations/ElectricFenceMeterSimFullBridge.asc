Version 4
SHEET 1 1796 680
WIRE -112 -368 -112 -416
WIRE 1216 -368 1216 -384
WIRE 512 -288 512 -352
WIRE 512 -288 400 -288
WIRE 1216 -272 1216 -288
WIRE -112 -256 -112 -288
WIRE -112 -256 -176 -256
WIRE -64 -256 -112 -256
WIRE 400 -256 400 -288
WIRE -176 -224 -176 -256
WIRE -64 -224 -64 -256
WIRE -512 -176 -512 -208
WIRE 512 -176 512 -288
WIRE -176 -128 -176 -160
WIRE -176 -128 -256 -128
WIRE -64 -128 -64 -160
WIRE 176 -128 -64 -128
WIRE 224 -128 176 -128
WIRE 320 -128 288 -128
WIRE 400 -128 400 -176
WIRE 400 -128 320 -128
WIRE 448 -128 400 -128
WIRE -176 -96 -176 -128
WIRE -64 -96 -64 -128
WIRE -256 -80 -256 -128
WIRE -960 -64 -1008 -64
WIRE -848 -64 -880 -64
WIRE -800 -64 -848 -64
WIRE -512 -64 -512 -96
WIRE 512 -32 512 -80
WIRE 544 -32 512 -32
WIRE 608 -32 544 -32
WIRE 752 -32 672 -32
WIRE 864 -32 752 -32
WIRE 896 -32 864 -32
WIRE -1008 0 -1008 -64
WIRE -848 0 -848 -64
WIRE -176 0 -176 -32
WIRE -112 0 -176 0
WIRE -64 0 -64 -32
WIRE -64 0 -112 0
WIRE -112 48 -112 0
WIRE 176 48 176 -128
WIRE 752 48 752 -32
WIRE 864 48 864 -32
WIRE 320 64 320 -128
WIRE 400 64 400 -128
WIRE 544 64 544 -32
WIRE -1008 112 -1008 80
WIRE -848 112 -848 64
WIRE -848 112 -1008 112
WIRE -1008 128 -1008 112
WIRE 176 208 176 128
WIRE 320 208 320 128
WIRE 320 208 176 208
WIRE 400 208 400 144
WIRE 400 208 320 208
WIRE 544 208 544 144
WIRE 544 208 400 208
WIRE 752 208 752 112
WIRE 752 208 544 208
WIRE 864 208 864 128
WIRE 864 208 752 208
WIRE 176 240 176 208
FLAG 176 240 0
FLAG 896 -32 Vpeak
IOPIN 896 -32 Out
FLAG -112 -416 Vfence
IOPIN -112 -416 Out
FLAG -512 -208 Vfence
IOPIN -512 -208 Out
FLAG -1008 128 0
FLAG -800 -64 Vdd
IOPIN -800 -64 BiDir
FLAG 512 -352 Vdd
IOPIN 512 -352 BiDir
FLAG 1216 -272 0
FLAG 1216 -384 SupplyIntegrated
FLAG -512 -64 Gfence
IOPIN -512 -64 In
FLAG -112 48 Gfence
IOPIN -112 48 In
FLAG -256 -80 0
SYMBOL voltage -512 -192 R0
WINDOW 3 13 470 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL value_scale_factor={VSCALE} 0.5 0 repeat forever (file=FencePulse.pwl) endrepeat
SYMATTR InstName V1
SYMBOL res -96 -272 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 24.6Meg
SYMBOL res 192 144 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 4.7k
SYMBOL res 848 32 R0
SYMATTR InstName R5
SYMATTR Value 10Meg
SYMBOL diode 608 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL cap 736 48 R0
SYMATTR InstName C1
SYMATTR Value 2.2µ
SYMBOL voltage -1008 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 2.8 0.1 0.001 0.001 10000)
SYMBOL cap 288 -144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 40 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMBOL npn 448 -176 R0
SYMATTR InstName Q1
SYMATTR Value BC547B
SYMBOL res 384 -272 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res 384 48 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res 528 48 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL bv 1216 -384 R0
SYMATTR InstName B1
SYMATTR Value V=idt(I(V2))
SYMBOL zener 336 128 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value UMZ5_1N
SYMBOL diode -80 -224 R0
SYMATTR InstName D3
SYMBOL diode -48 -32 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL diode -160 -160 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode -192 -96 R0
SYMATTR InstName D6
SYMBOL res -864 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 180
SYMBOL cap -864 0 R0
SYMATTR InstName C3
SYMATTR Value 10µ
TEXT -496 304 Left 2 !.tran 0 10 0
TEXT -496 248 Left 2 !.step param VSCALE 0 1.5 0.2
TEXT 1192 -200 Left 2 !.meas tran ave_cur FIND V(supplyintegrated) at 1.0
TEXT 1192 -176 Left 2 !.meas tran max_output MAX V(Vpeak)
